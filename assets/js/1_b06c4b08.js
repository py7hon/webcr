(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{395:function(e,t,a){"use strict";var i={name:"loading",data:function(){return{count:5}}},n=(a(398),a(2)),s=Object(n.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"spinner"},this._l(this.count,(function(e){return t("div",{key:e,class:"rect rect"+e})})),0)}),[],!1,null,"597d1897",null);t.a=s.exports},396:function(e,t,a){},397:function(e,t,a){},398:function(e,t,a){"use strict";a(396)},399:function(e,t,a){"use strict";var i={name:"card"},n=(a(400),a(2)),s=Object(n.a)(i,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"card bg-dark text-light"},[this._t("default")],2)}),[],!1,null,"2edc5dc4",null);t.a=s.exports},400:function(e,t,a){"use strict";a(397)},401:function(e,t,a){},402:function(e,t,a){"use strict";var i=a(1);t.a=new i.a},403:function(e,t,a){},404:function(e,t,a){"use strict";a(377);var i={name:"progress-bar",props:{value:Number}},n=a(2),s=Object(n.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress rounded-0 bg-warning",staticStyle:{height:"4px"}},[t("div",{staticClass:"progress-bar bg-primary",style:{width:this.value+"%"},attrs:{role:"progressbar","aria-valuenow":this.value,"aria-valuemin":"0","aria-valuemax":"100"}})])}),[],!1,null,null,null);t.a=s.exports},405:function(e,t,a){"use strict";a(380),a(311);var i=a(404),n=a(399),s=(a(20),a(15),a(21),a(378),a(377),a(1)),r=a(379),o=a.n(r);function u(e,t,a,i,n,s,r){try{var o=e[s](r),u=o.value}catch(e){return void a(e)}o.done?t(u):Promise.resolve(u).then(i,n)}function c(e){return function(){var t=this,a=arguments;return new Promise((function(i,n){var s=e.apply(t,a);function r(e){u(s,i,n,r,o,"next",e)}function o(e){u(s,i,n,r,o,"throw",e)}r(void 0)}))}}s.a.use(o.a);var d={name:"media-card-context",props:{value:Boolean,position:{x:Number,y:Number},mediaId:String,seriesId:String,watched:Boolean,duration:Number},computed:{inQueue:function(){var e=this;return void 0!==this.$store.state.queue.queue.find((function(t){return t.series.series_id===e.seriesId}))}},methods:{close:function(){this.$emit("input",!1)},toggleWatched:function(){var e=this;return c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.close(),e.$emit("beginUpdate"),t.next=4,e.$store.dispatch("media/setWatched",{mediaId:e.mediaId,watched:!e.watched,duration:e.duration});case 4:return t.next=6,e.$store.dispatch("media/updateMedia",e.mediaId);case 6:e.$emit("updated");case 7:case"end":return t.stop()}}),t)})))()},toggleQueue:function(){var e=this;return c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.close(),e.$emit("beginUpdate"),t.next=4,e.$store.dispatch("media/toggleQueue",{seriesId:e.seriesId,inQueue:e.inQueue});case 4:return t.next=6,e.$store.dispatch("media/updateSeries",e.seriesId);case 6:return t.next=8,e.$store.dispatch("queue/getQueue");case 8:e.$emit("updated");case 9:case"end":return t.stop()}}),t)})))()}}},l=(a(406),a(2)),m=Object(l.a)(d,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.value?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.close,expression:"close"}],staticClass:"list-group position-absolute text-nowrap",style:{left:e.position.x+"px",top:e.position.y+"px"}},[a("a",{staticClass:"list-group-item list-group-item-action bg-dark text-light",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.toggleWatched(t)}}},[e._v("\n    "+e._s(e.watched?e.$t("media.markUnwatched"):e.$t("media.markWatched"))+"\n  ")]),e._v(" "),a("a",{staticClass:"list-group-item list-group-item-action bg-dark text-light",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.toggleQueue(t)}}},[e._v("\n    "+e._s(e.inQueue?e.$t("media.queueRemove"):e.$t("media.queueAdd"))+"\n  ")])]):e._e()}),[],!1,null,"3b8ea60a",null).exports,h=a(395),p=a(402),g={name:"media-card",props:{media:Object,active:Boolean},data:function(){return{showContextMenu:!1,contextMenuPosition:{x:0,y:0},loading:!1,cardHeight:0}},components:{ProgressBar:i.a,Card:n.a,MediaCardContext:m,Loading:h.a},created:function(){var e=this;p.a.$on("closeContextMenus",(function(){e.showContextMenu=!1}))},methods:{contextMenu:function(e){p.a.$emit("closeContextMenus"),this.showContextMenu=!0,this.contextMenuPosition.x=e.clientX-this.$refs.card.$el.getBoundingClientRect().left,this.contextMenuPosition.y=e.clientY-this.$refs.card.$el.getBoundingClientRect().top},mediaUpdated:function(){this.loading=!1},mediaBeginUpdate:function(){this.cardHeight=this.$refs.card.$el.getBoundingClientRect().height,this.loading=!0}},computed:{length:function(){return new Date(1e3*this.media.duration).toISOString().substr(11,8).replace(/^(00:)?0?/,"")},watchedTime:function(){return new Date(1e3*this.media.playhead).toISOString().substr(11,8).replace(/^(00:)?0?/,"")},watched:function(){return this.media.playhead>=.9*this.media.duration}}},f=(a(407),Object(l.a)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("card",{class:{"active-card":e.active},style:{height:e.cardHeight+"px"}},[a("loading",{staticClass:"my-auto"})],1):a("card",{ref:"card",class:{"active-card":e.active},nativeOn:{contextmenu:function(t){return t.preventDefault(),t.stopPropagation(),e.contextMenu(t)}}},[a("router-link",{staticClass:"text-reset embed-responsive embed-responsive-16by9",attrs:{to:"/media/"+e.media.media_id}},[e.media.screenshot_image?a("img",{staticClass:"card-img-top embed-responsive-item image",attrs:{src:e.$https(e.media.screenshot_image.large_url),alt:"Media Thumbnail"}}):e._e(),e._v(" "),a("div",{staticClass:"play"}),e._v(" "),e.watched?a("div",{staticClass:"watched-grey"}):e._e(),e._v(" "),e.watched?a("fa-icon",{staticClass:"watched",attrs:{icon:"eye"}}):e._e(),e._v(" "),a("span",{staticClass:"badge badge-secondary length"},[e._v(e._s(e.media.playhead>0&&!e.watched?e.watchedTime+" / ":"")+e._s(e.length))])],1),e._v(" "),a("progress-bar",{attrs:{value:e.media.playhead/e.media.duration*100}}),e._v(" "),a("div",{staticClass:"mx-2 my-1 d-flex flex-column"},[a("span",{staticClass:"text-truncate"},[a("router-link",{staticClass:"text-reset",attrs:{to:"/series/"+e.media.series_id,title:e.media.collection_name}},[e._v("\n          "+e._s(e.media.collection_name)+"\n        ")])],1),e._v(" "),a("small",{staticClass:"text-truncate"},[a("router-link",{staticClass:"text-reset",attrs:{to:"/media/"+e.media.media_id,title:e.$t("media.episode",{number:e.media.episode_number})+" ― "+e.media.name}},[e._v("\n          "+e._s(e.$t("media.episode",{number:e.media.episode_number}))+" ― "+e._s(e.media.name)+"\n        ")])],1)]),e._v(" "),e._t("default")],2),e._v(" "),a("media-card-context",{attrs:{position:e.contextMenuPosition,watched:e.watched,mediaId:e.media.media_id,seriesId:e.media.series_id,duration:e.media.duration},on:{beginUpdate:e.mediaBeginUpdate,updated:e.mediaUpdated},model:{value:e.showContextMenu,callback:function(t){e.showContextMenu=t},expression:"showContextMenu"}})],1)}),[],!1,null,"e63b62fa",null));t.a=f.exports},406:function(e,t,a){"use strict";a(401)},407:function(e,t,a){"use strict";a(403)},410:function(e,t,a){},414:function(e,t,a){"use strict";var i={name:"loading-small",data:function(){return{count:10}}},n=(a(415),a(2)),s=Object(n.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sk-fading-circle"},this._l(this.count,(function(e){return t("div",{key:e,class:"sk-circle sk-circle"+e})})),0)}),[],!1,null,"57ca1db3",null);t.a=s.exports},415:function(e,t,a){"use strict";a(410)},420:function(e,t,a){"use strict";a(377);var i=a(399),n=a(404),s={name:"compact-series-card",props:{media:{media_id:String,name:String,playhead:Number,duration:Number}},components:{Card:i.a,ProgressBar:n.a}},r=a(2),o=Object(r.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("card",[a("div",{staticClass:"d-flex flex-row align-items-center"},[e._t("default"),e._v(" "),a("router-link",{staticClass:"text-reset overflow-hidden",attrs:{to:"/media/"+e.media.media_id,title:e.media.name}},[a("div",{staticClass:"mx-4 my-2 text-truncate"},[e._v("\n        "+e._s(e.$t("media.episode",{number:e.media.episode_number}))+": "+e._s(e.media.name)+" - "+e._s(this.media.collection_name)+"\n      ")])])],2),e._v(" "),a("progress-bar",{attrs:{value:e.media.playhead/e.media.duration*100}})],1)}),[],!1,null,null,null);t.a=o.exports},424:function(e,t,a){},425:function(e,t,a){},432:function(e,t,a){"use strict";var i=a(405),n=a(420),s=(a(377),{name:"grab-handle",props:{dotsX:Number,dotsY:Number}}),r=(a(437),a(2)),o=Object(r.a)(s,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"grab-handle",style:{width:6*this.dotsX+"px",height:6*this.dotsY+"px"}})}),[],!1,null,"75669ea8",null).exports,u=a(395),c=a(381),d=a.n(c),l={name:"queue",components:{MediaCard:i.a,CompactMediaCard:n.a,GrabHandle:o,Draggable:d.a,Loading:u.a},mounted:function(){this.$store.dispatch("queue/getQueue",this.mediaType)},watch:{mediaType:function(){this.$store.dispatch("queue/getQueue",this.mediaType)},locale:function(){this.$store.dispatch("queue/getQueue",this.mediaType)}},computed:{queue:{get:function(){return this.$store.state.queue.queue},set:function(e){this.$store.dispatch("queue/sortQueue",e)}},loading:function(){return this.$store.state.queue.loading},locale:function(){return this.$store.state.locale.locale}},props:{mediaType:String,compact:Boolean}},m=(a(438),Object(r.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading&&0==e.queue.length?a("loading"):a("div",[e.compact?a("draggable",{staticClass:"row",attrs:{draggable:".draggable-card",handle:".handle-small"},model:{value:e.queue,callback:function(t){e.queue=t},expression:"queue"}},e._l(e.queue,(function(e){return a("div",{key:e.queue_entry_id,staticClass:"col-12 mb-2 draggable-card"},[a("compact-media-card",{attrs:{media:e.most_likely_media}},[a("div",{staticClass:"handle-small p-2"},[a("grab-handle",{attrs:{dotsX:2,dotsY:4}})],1)])],1)})),0):a("draggable",{staticClass:"row",attrs:{draggable:".draggable-card",handle:".handle"},model:{value:e.queue,callback:function(t){e.queue=t},expression:"queue"}},e._l(e.queue,(function(e){return a("div",{key:e.queue_entry_id,staticClass:"col-lg-3 col-md-4 col-sm-6 offset-sm-0 col-8 offset-2 mb-4 draggable-card"},[a("media-card",{attrs:{media:e.most_likely_media}},[a("div",{staticClass:"handle"},[a("grab-handle",{staticClass:"m-auto",attrs:{dotsX:10,dotsY:2}})],1)])],1)})),0)],1)],1)}),[],!1,null,"1c5c1228",null));t.a=m.exports},437:function(e,t,a){"use strict";a(424)},438:function(e,t,a){"use strict";a(425)}}]);